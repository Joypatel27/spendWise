/* src/darkmode.css
   Global dark-mode theme. Trigger by adding `body.dark-mode`.
   Keeps overrides minimal but comprehensive; add more selectors if needed.
*/

/* theme variables */
:root {
  --dm-bg: #020617;
  --dm-card: #0b1120;
  --dm-surface: #111827;
  --dm-border: #1f2937;
  --dm-text: #e5e7eb;
  --dm-muted: #9ca3af;
  --dm-primary: #2563eb;
  --dm-primary-hover: #1d4ed8;
  --transition: 220ms ease;
}

/* apply basic page colours and transition */
body.dark-mode {
  background-color: var(--dm-bg) !important;
  color: var(--dm-text) !important;
  transition: background-color var(--transition), color var(--transition);
}

/* smooth transition for many containers */
html, body, .app-layout, .main-content, .card, .container, .modal-content {
  transition: background-color var(--transition), color var(--transition), border-color var(--transition);
}

/* APP SHELL / NAVBAR */
body.dark-mode .app-layout,
body.dark-mode .main-content,
body.dark-mode main {
  background-color: var(--dm-bg) !important;
  color: var(--dm-text) !important;
}

body.dark-mode .top-navbar,
body.dark-mode .navbar {
  background-color: var(--dm-bg) !important;
  border-bottom: 1px solid var(--dm-border) !important;
}

body.dark-mode .nav-brand,
body.dark-mode .navbar-brand,
body.dark-mode .navbar-text,
body.dark-mode .nav-link,
body.dark-mode .nav-page-title {
  color: var(--dm-text) !important;
}

body.dark-mode .nav-link:hover,
body.dark-mode .navbar-brand:hover {
  color: #f9fafb !important;
}

/* AVATAR / USER */
body.dark-mode .user-avatar {
  background-color: var(--dm-surface) !important;
  color: var(--dm-text) !important;
  border: 1px solid var(--dm-border) !important;
}

/* LOGOUT / OUTLINE BUTTONS */
body.dark-mode .logout-btn,
body.dark-mode .btn-outline-light {
  color: var(--dm-text) !important;
  border-color: var(--dm-text) !important;
}
body.dark-mode .logout-btn:hover,
body.dark-mode .btn-outline-light:hover {
  background-color: var(--dm-text) !important;
  color: var(--dm-bg) !important;
}

/* SIDEBAR */
body.dark-mode .sidebar-container,
body.dark-mode .sidebar,
body.dark-mode .sidebar-wrapper,
body.dark-mode .sidebar-main {
  background-color: var(--dm-card) !important;
  color: var(--dm-text) !important;
  border-right: 1px solid var(--dm-border) !important;
}

body.dark-mode .sidebar-container .nav-link,
body.dark-mode .sidebar .nav-link,
body.dark-mode .sidebar-wrapper .nav-link {
  color: var(--dm-text) !important;
}
body.dark-mode .sidebar-container .nav-link:hover,
body.dark-mode .sidebar .nav-link:hover,
body.dark-mode .sidebar-container .nav-link.active,
body.dark-mode .sidebar .nav-link.active {
  background-color: var(--dm-surface) !important;
  color: #ffffff !important;
}

/* OFFCANVAS / MOBILE SIDEBAR */
body.dark-mode .offcanvas,
body.dark-mode .offcanvas-header,
body.dark-mode .offcanvas-body,
body.dark-mode .mobile-sidebar {
  background-color: var(--dm-bg) !important;
  color: var(--dm-text) !important;
}
body.dark-mode .offcanvas .btn-close,
body.dark-mode .mobile-sidebar .btn-close {
  filter: invert(1);
}

/* CARDS / LISTS / TABLES */
body.dark-mode .card,
body.dark-mode .summary-card-upgraded,
body.dark-mode .total-card,
body.dark-mode .accounts-card,
body.dark-mode .budget-card-upgraded,
body.dark-mode .empty-card-upgraded,
body.dark-mode .stat-card,
body.dark-mode .report-card,
body.dark-mode .list-group-item {
  background-color: var(--dm-bg) !important;
  color: var(--dm-text) !important;
  border-color: var(--dm-border) !important;
  box-shadow: 0 6px 18px rgba(15,23,42,0.45) !important;
}

body.dark-mode .card-header {
  background-color: var(--dm-bg) !important;
  border-bottom-color: var(--dm-border) !important;
}

/* TEXT / MUTED */
body.dark-mode .text-muted,
body.dark-mode .small,
body.dark-mode .form-text {
  color: var(--dm-muted) !important;
}

/* BUTTONS */
body.dark-mode .btn-primary {
  background-color: var(--dm-primary) !important;
  border-color: var(--dm-primary) !important;
  color: #fff !important;
}
body.dark-mode .btn-primary:hover {
  background-color: var(--dm-primary-hover) !important;
  border-color: var(--dm-primary-hover) !important;
}

/* outline-secondary / light */
body.dark-mode .btn-outline-secondary {
  border-color: #4b5563 !important;
  color: var(--dm-text) !important;
}
body.dark-mode .btn-outline-secondary:hover {
  background-color: #4b5563 !important;
  color: #f9fafb !important;
}

/* light buttons */
body.dark-mode .btn-light,
body.dark-mode .dropdown-toggle.btn-light {
  background-color: var(--dm-surface) !important;
  color: var(--dm-text) !important;
  border-color: var(--dm-border) !important;
}
body.dark-mode .btn-light:hover,
body.dark-mode .dropdown-toggle.btn-light:hover {
  background-color: #1f2937 !important;
}

/* BADGES */
body.dark-mode .badge.bg-light,
body.dark-mode .badge.bg-secondary {
  background-color: var(--dm-surface) !important;
  color: var(--dm-text) !important;
}

/* FORMS */
body.dark-mode .form-control,
body.dark-mode .form-select {
  background-color: var(--dm-bg) !important;
  color: var(--dm-text) !important;
  border-color: var(--dm-border) !important;
}
body.dark-mode .form-control:focus,
body.dark-mode .form-select:focus {
  border-color: #3b82f6 !important;
  box-shadow: 0 0 0 0.15rem rgba(59,130,246,0.12) !important;
}

/* MODALS */
body.dark-mode .modal-content {
  background-color: var(--dm-bg) !important;
  color: var(--dm-text) !important;
  border-color: var(--dm-border) !important;
}
body.dark-mode .modal-header,
body.dark-mode .modal-footer {
  border-color: var(--dm-border) !important;
}
body.dark-mode .modal-backdrop.show {
  opacity: 0.7;
}

/* HEADINGS */
body.dark-mode h1, body.dark-mode h2, body.dark-mode h3, body.dark-mode h4, body.dark-mode h5 {
  color: #f9fafb !important;
}

/* CHART TOOLTIPS */
body.dark-mode .recharts-default-tooltip {
  background-color: var(--dm-bg) !important;
  border: 1px solid var(--dm-border) !important;
  color: var(--dm-text) !important;
}

/* TRANSACTIONS (examples) */
body.dark-mode .day-header { color: var(--dm-text) !important; }
body.dark-mode .day-total { font-weight: 600; }
body.dark-mode .day-total.negative { color: #f97373 !important; }
body.dark-mode .day-total.positive { color: #4ade80 !important; }
body.dark-mode .txn-item {
  background-color: var(--dm-bg) !important;
  color: var(--dm-text) !important;
  border: 1px solid var(--dm-border) !important;
}
body.dark-mode .txn-icon { background-color: var(--dm-surface) !important; color: var(--dm-text) !important; }
body.dark-mode .txn-title { color: #f9fafb !important; }
body.dark-mode .txn-sub { color: var(--dm-muted) !important; }
body.dark-mode .txn-amount { color: var(--dm-text) !important; }
body.dark-mode .txn-amount.amt-negative { color: #f97373 !important; }
body.dark-mode .txn-amount.amt-positive { color: #4ade80 !important; }

/* ACCOUNTS */
body.dark-mode .total-card,
body.dark-mode .accounts-card,
body.dark-mode .acct-row {
  background-color: var(--dm-bg) !important;
  border-color: var(--dm-border) !important;
}
body.dark-mode .acct-icon-wrap { background-color: var(--dm-surface) !important; }
body.dark-mode .acct-name { color: #f9fafb !important; }
body.dark-mode .acct-type { color: var(--dm-muted) !important; }
body.dark-mode .acct-badge { background-color: var(--dm-surface) !important; color: var(--dm-text) !important; }
body.dark-mode .acct-badge.bg-danger { background-color: #b91c1c !important; color: #f9fafb !important; }

/* BUDGETS */
body.dark-mode .budgets-page-upgraded,
body.dark-mode .budget-card-upgraded,
body.dark-mode .recent-item {
  background-color: var(--dm-bg) !important;
  border-color: var(--dm-border) !important;
  color: var(--dm-text) !important;
}
body.dark-mode .summary-title { color: var(--dm-muted) !important; }
body.dark-mode .summary-value { color: #f9fafb !important; }

/* SETTINGS page wrapper */
body.dark-mode .settings-page {
  background-color: var(--dm-bg) !important;
  color: var(--dm-text) !important;
}

/* SCROLLBARS */
body.dark-mode ::-webkit-scrollbar { width: 8px; height: 8px; }
body.dark-mode ::-webkit-scrollbar-track { background: var(--dm-bg); }
body.dark-mode ::-webkit-scrollbar-thumb { background: #374151; border-radius: 999px; }
body.dark-mode ::-webkit-scrollbar-thumb:hover { background: #4b5563; }

/* MOBILE/OFFCANVAS tweaks */
body.dark-mode .mobile-sidebar .offcanvas-header { border-bottom: 1px solid var(--dm-border) !important; }
body.dark-mode .mobile-sidebar .offcanvas-title { color: #f9fafb !important; }

/* final safety: ensure sidebar variants match */
body.dark-mode .sidebar,
body.dark-mode .sidebar-wrapper,
body.dark-mode .sidebar-main,
body.dark-mode .sidebar-container {
  background-color: var(--dm-bg) !important;
  border-right: 1px solid var(--dm-border) !important;
}
